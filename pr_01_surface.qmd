# Soil surface {#sec-pr-surface}

```{r}
library(dplyr)
library(tibble)
library(gt)
```

A site is placed in its landform and landscape context using the system described in @sec-ss-set. The land surface at a site is then described primarily in terms of its slope, aspect, and surface cover. If present, surface water and microrelief features should also be recorded. Ongoing or recent erosion and/or deposition events may be briefly noted or described in more detail.

## Slope {#sec-pr-slope}

Slope is the inclination of the land surface relative to the horizontal plane. Slope steepness affects many soil processes, notably erosion, water run-off and infiltration behaviour.

Direct measurements of slope should be taken over a minimum distance of 20 metres. Stand 10 m upslope from the point of observation and measure downhill along the steepest gradient that passes through the point of observation. Record slope in units of degrees, with a maximum precision of 0.1. Record [ND]{.ceg} if slope cannot be reliably determined. Record [NR]{.ceg} if no measurement was taken. Ignore the influence of microrelief features smaller than the site extent while measuring slope (see @sec-pr-microra, e.g., steep short slopes from track cuttings).

Precision needs will vary with slope and survey purpose; whole number degrees are sufficient on any slope over about 5 degrees, but finer gradations can be useful for flatter locations. Slope classes may be applied to the recorded data; some options are presented in @sec-slopeclass.

Record the equipment used to measure slope using @tbl-pr-slpmth.

E.g, [5° E]{.ceg} for an estimated 5-degree slope.

```{r}
#| label: tbl-pr-slpmth
#| tbl-cap: "Slope measurement methods"

dat_pr_slpmth <-
  tribble(~Code, ~Name, ~Description,
          'E', 'Estimate', 'Estimated by eye',
          'C', 'Clinometer', 'Handheld clinometer or Abney level',
          'T', 'Tripod', 'Survey-grade equipment mounted on a tripod',
          'D', 'DEM', 'Calculated from a DEM with suitable resolution and vertical accuracy')

tbl_pr_slpmth <- gt(dat_pr_slpmth) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red', 
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20))

tbl_pr_slpmth
```

## Aspect {#sec-pr-aspect}

Aspect is the direction a slope faces. Slope aspect helps determine exposure to sun, rain and prevailing winds, and so influences the biome growing in a particular soil. In some environments it also helps determine how much new material is received by deposition.

Aspect should be measured at the same time and over the same transect as slope. Record aspect in whole degrees clockwise from north, using the range \[0-359°\] (360° = 0°). Use [ND]{.ceg} for flat ground (see @nte-flatwhat). Use [NR]{.ceg} if no measurement was taken. Aspect classes may be applied to the recorded data; some options are presented in @sec-aspectclass.

Record the equipment used to measure aspect using @tbl-pr-aspmth.

E.g. [135° C]{.ceg} for a southeast-facing slope recorded using a compass.

```{r}
#| label: tbl-pr-aspmth
#| tbl-cap: "Aspect measurement methods"

dat_pr_aspmth <-
  tribble(~Code, ~Name, ~Description,
          'E', 'Estimate', 'Estimated by eye',
          'C', 'Compass', 'Handheld magnetic compass',
          'D', 'DEM', 'Calculated from a DEM with suitable resolution and vertical accuracy')

tbl_pr_aspmth <- gt(dat_pr_aspmth) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red',
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20))

tbl_pr_aspmth
```

::: {.content-visible when-format="docx"}
delete me
:::

::: {#nte-flatwhat .callout-note appearance="minimal" collapse="true" title="Defining 'flat' in soil survey"}
Truly flat land is extremely rare over distances of more than a few meters. The cutoff slope value for *effective* flatness is not always provided in soil description standards (e.g. @schoeneberger2012) and is not consistent when it is, e.g.

-   0.58° (\~1%) for level ground in @ncst2024
-   2.86° (5%) in @hurst2022

The slope measurement method in use can restrict the recordable limit of flat land. For instance, a hand-held clinometer may be difficult to use consistently and accurately at slopes of less than 3°, whereas survey-grade equipment (e.g. a tripod-mounted laser level) will have a higher accuracy.

Slope calculated from a DEM also has inherent limitations. For example, a DEM with a cell size of 20 m and a vertical resolution of 0.5 m cannot discriminate slope increments of less than \~1.43° ($tan^{-1}(0.5/20)$).

For site-scale aspect measurement, a flatness threshold of 1° (1.75%) is acceptable. This equates to a \~35 cm fall over 20 m.
:::

::: {#nte-slopegear .callout-note appearance="minimal" collapse="true" title="Equipment for measuring slope and aspect"}
Slope and aspect are conventionally measured with analog tools - a clinometer for slope, and a compass for aspect. Digital versions of these tools are increasingly available, usually embedded in smartphones. Smartphones can sense slope and magnetic direction using a combination of accelerometers, magnetometers, and gyroscopes, assisted by software. Reliability and accuracy varies by device make and model [@tavani2022], so any device being used for this task should be assessed first. If the device proves sufficiently reliable, it can be recorded as type [C]{.ceg} in both @tbl-pr-slpmth and @tbl-pr-aspmth.
:::

::: {#nte-slpdem .callout-note appearance="minimal" collapse="true" title="Extracting slope and aspect from DEMs"}
Slope data for a site can be extracted from a DEM, provided some conditions are met:

-   Cell size should be less than 10 m; larger cells systematically underestimate local slope
-   DEM source should ideally be of type [D]{.ceg} for acceptable accuracy (see @tbl-ss-elevsrc)
-   Extract the median slope within a 10 m radius, not the single value directly under the recorded point
-   Review and, if necessary, adjust slopes extracted from sites described on exposures. These may be overestimates (e.g. where a track cuts into a slope, the values upslope behind the site would better represent the soil-forming environment). Sites located close to landform or landscape boundaries may also need review. For example, for a site in the base of a narrow valley, the slope of the valley sides will differ from the slope of the valley floor. If the extraction window includes both the valley floor and sides, median slope will be overestimated.

Aspect data is subject to similar constraints, with two additional issues to consider:

-   Aspect calculated from a DEM will correspond to 'map north', while aspect measured directly will correspond to magnetic north. Adjustments for declination will be required.
-   Software used to calculate aspect sometimes defaults to reporting in degrees anticlockwise from east (consistent with trigonometry rather than orienteering conventions), and can vary in whether and how it signifies flat areas.
:::

## Surface cover {#sec-pr-surfcov}

Surface cover helps visualise the site and its landform and provides some information on infiltration behaviour. Surface cover (specifically, 'the number of days in a year that the soil (agricultural land) is covered with vegetation') is a key agricultural performance indicator [@oecd2001].

Estimate and record the generalised surface cover components as a percentage composition of the site (@sec-pr-site), using the codes in @tbl-pr-surfcov. Consider the surface cover from the surface to a height of 1.35 m, for consistency with @hurst2022.

Example: [BE 10%, GR 90%]{.ceg} for a pasture with near-complete ground coverage.

```{r}
#| label: tbl-pr-surfcov
#| tbl-cap: "Surface cover types"

dat_pr_surfcov <-
  tribble(~Code, ~Name, ~Description,
          'BE', 'Earth', 'Bare unconsolidated sediment or soil, < 2 mm', 
          'BR', 'Fragments', ' Rock fragments, shells, or bones, 2–200 mm',
          'BO', 'Rock', 'Bare rock outcrop or large rock fragments > 200 mm',
          'WT', 'Water', 'Open water, ice or snow',
          'PT', 'Peat', 'Plant material decomposing under saturated conditions',
          'LI', 'Litter', 'Plant material decomposing under intermittently wet to dry conditions',
          'GR', 'Small plants', 'Grasses, ferns, herbs, moss, sedges, annual crops',
          'TR', 'Large plants', 'Shrubs, trees and treeferns, (stems and roots), perennial crops',
          'SL', 'Sealed', 'Building, concrete, asphalt and similar')

tbl_pr_surfcov <- gt(dat_pr_surfcov) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red', 
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20))

tbl_pr_surfcov
```

[GRAPHIC: Turn the above into a 3x3 grid with labels underneath conceptual diagrams]{.diags}

```{r}

# draw donut chart with 10% breaks next to a couple of pictures for examples



```

## Surface disturbances {#sec-pr-dist}

Disturbances have the potential to influence the soil as well as its cover. Noting these events can provide context for the parameters recorded, and some are especially useful when interpreting laboratory results.

Only record recent events directly affecting the site. 'Recent' is a relatively flexible concept which highlights the reasons some parameters observed might be locally unusual. Some of these events recur regularly (e.g. tillage) so only need to be noted if very recent (e.g. previous week).

If the time since the event is uncertain, record an estimate using one of the options in @tbl-ss-eventt (e.g. [FL S]{.ceg} for a flood estimated to have occurred within the past 6 months).

If the time since the event is known with high certainty, record days since the event (e.g. [FL 10]{.ceg} for a well-documented recent flood).

```{r}
#| label: tbl-ss-eventp
#| tbl-cap: "Recent site-affecting events"

dat_ss_eventp <-
  tribble(~Code, ~Name,
          'MC', 'Mechanical disturbance (e.g. tillage, deep ripping, subsoiling, recontouring)',
          'AN', 'Animal disturbance (e.g. pugging, rooting, tunnelling, excretion)',
          'CL', 'Complete vegetation clearance by humans (e.g. clearfelling, harvest)',
          'CO', 'Selective vegetation clearance by humans (e.g. tree removal or weed clearance)', 
          'WI', 'Wind-induced treefall',
          'SL', 'Natural erosion event - material lost from site',
          'SD', 'Natural deposition event - material added to site',
          'FC', 'Fire - controlled burn',
          'FW', 'Fire - uncontrolled burn',
          'FL', 'Flooding - freshwater',
          'FS', 'Flooding - saline water (e.g. storm surge event)',
          'PO', 'Pollution event (e.g. petrol spill)',
          'NO', 'No recent events',
          'UK', 'Unknown')

tbl_ss_eventp <- gt(dat_ss_eventp) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red', 
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10))

tbl_ss_eventp
```

```{r}
#| label: tbl-ss-eventt
#| tbl-cap: "Generalised time since recent site-affecting events"

dat_ss_eventt <-
  tribble(~Code, ~Name,
            'D', 'Within the past day',
            'W', 'Within the past week',
            'M', 'Within the past month',
            'S', 'Within the past 6 months',
            'Y', 'Within the past year')

tbl_ss_eventt <- gt(dat_ss_eventt) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red', 
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10))

tbl_ss_eventt
```

## Surface water {#sec-pr-surfw}

Information about surface water can contribute to drainage assessments. If surface water is present at the site, record its presence and estimate the area covered using the [WT]{.ceg} code in @sec-pr-surfcov.

Optionally, append type and degree of persistence using the codes in @tbl-pr-swater and @tbl-pr-swaterp.

E.g., [WT 20% (R, T)]{.ceg} for a paddock experiencing limited surface ponding from a recent cyclone at the time of observation.

```{r}
#| label: tbl-pr-swater
#| tbl-cap: "Surface water character (adapted from @iussworkinggroupwrb2022 and @johnson2004)"

dat_pr_swater <-
  tribble(~Code, ~Name, ~Description,
          'S', 'Saline surface water', 'Marine, estuarine, or inland-saline waters flowing over the surface', 
          'F', 'Fresh surface water',  'Palustrine, lacustrine or riverine waters flowing over the surface',
          'C', 'Cold groundwater',     'Waters rising to the surface from cold springs or an elevated natural water table',
          'G', 'Hot groundwater',      'Waters rising to the surface from geothermal sources (temperature 30°C or more)',
          'S', 'Snow',                 'Snow falling on or near the site and accumulating on the surface',
          'R', 'Rainfall',             'Rain falling on or near the site and accumulating on the surface',
          'A', 'Anthropic',            'Water from a manmade discharge location or backing up behind a dam',
          'N', 'None',                 'Surface free from ponds or puddles')

tbl_pr_swater <- gt(dat_pr_swater) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red', 
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20)) |>
  sub_missing(missing_text = '')

tbl_pr_swater
```

```{r}
#| label: tbl-pr-swaterp
#| tbl-cap: "Surface water persistence (adapted from @iussworkinggroupwrb2022)"

dat_pr_swaterp <-
  tribble(~Code, ~Name, ~Description,
          'P', 'Permanent', 'Surface water persists year-round', 
          'S', 'Seasonal',  'Surface water is present during wet seasons',
          'T', 'Temporary', 'Surface water is present due to a specific event')

tbl_pr_swaterp <- gt(dat_pr_swaterp) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red',
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20)) |>
  sub_missing(missing_text = '')

tbl_pr_swaterp
```

## Surface cracking {#sec-pr-crack}

Soil surface cracking can occur for a number of reasons:

-   Soil parent material includes shrink-swell clays, in an environment that allows desiccation.
-   Sediment was originally deposited underwater (e.g. during a flood) and cracks on drying out.
-   Freeze-thaw cycles, mass movement, or tectonic activity has caused surface deformation.

Surface cracks can have a strong influence on infiltration behaviour. Surface cracks are not strongly related to soil structure, generally being much larger than the spaces between peds and often extending through more than one horizon. However, cracks are more likely to form and re-form along existing planes of weakness.

Within the site, record surface crack presence/persistence using the codes in @tbl-pr-cracktype. If present, record spatial arrangement using the codes in @tbl-pr-crackshape, as well as median width, depth and spacing between cracks in centimetres.

E.g., [RT P 0.5 cm, 10 cm, 35 cm]{.ceg} for surface cracking patterns common to Vertic Melanic soils.

```{r}
#| label: tbl-pr-cracktype
#| tbl-cap: "Crack persistence [@iussworkinggroupwrb2022]"

dat_pr_cracktype <-
  tribble(~Code, ~Name, ~Description,
          'NO', 'None',                'No surface cracks', 
          'RT', 'Reversible cracks',   'Cracks that open and close with changing soil moisture',
          'IT', 'Irreversible cracks', 'Cracks that persist year-round')

tbl_pr_cracktype <- gt(dat_pr_cracktype) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red',
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20)) |>
  sub_missing(missing_text = '')

tbl_pr_cracktype
```

```{r}
#| label: tbl-pr-crackshape
#| tbl-cap: "Crack spatial arrangement [@iussworkinggroupwrb2022]"

dat_pr_crackshape <-
  tribble(~Code, ~Name, ~Description,
          'P', 'Polygonal', 'Surface cracks forming closed shapes on the land surface', 
          'L', 'Linear', 'Surface cracks running roughly parallel to one another',
          'I', 'Irregular', 'Surface cracks with no discernible pattern')

tbl_pr_crackshape <- gt(dat_pr_crackshape) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red', 
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20)) |>
  sub_missing(missing_text = '')

tbl_pr_crackshape
```

Recent weather data is useful for interpreting surface crack information (@sec-weath-rrain).

## Microrelief {#sec-pr-micror}

Microrelief is a term covering small-scale, regular or semi-regular repeating patterns of surface deformation. Microrelief occurs within a landform, so its components are smaller than the landform itself - often too small to be reliably sensed remotely. 

Consider the following example of how microrelief fits into a particular site-setting context. In a hill country landscape, a north-facing slope landform is used for sheep grazing. Over time, stock movement has created small, step-like terraces on the slope surface. The terraces, known as terracettes, are a form of biotic microrelief, are 20-30 cm high and spaced 1-2 m apart. While the terracettes do not alter the overall form of the slope, they influence local surface water movement and erosion.

Microrelief presence and character can help signify particular soil types, and also influences many small-scale soil processes such as local water infiltration, accumulation of surface litter, and topsoil development.

### Natural microrelief {#sec-pr-microrn}

Natural microrelief emerges from a similar set of drivers to soil formation itself. Record the dominant microrelief driver and form using the codes in @tbl-pr-micreltype and @tbl-pr-micrelfrm. In practice the type categories can overlap and interact, but a dominant force should usually be apparent. Optionally, record the average height and spacing of repeating microrelief elements in centimetres.

Where the microrelief pattern is larger than the profile being examined, note the location of the profile relative to the pattern, e.g., whether a core has been drilled in a dip.

```{r}
#| label: tbl-pr-micreltype
#| tbl-cap: "Drivers of natural microrelief (adapted from @ncst2024 and @iussworkinggroupwrb2022)"

dat_pr_micreltype <-
  tribble(~Code, ~Name, ~Description,
          'N', 'None',      'Site surface is naturally smooth, or level', 
          'G', 'Soil',      'Induced by shrink-swell clay activity e.g. gilgai',
          'B', 'Biotic',    'Induced by plant or animal activity e.g. forest dimples from treethrow',
          'C', 'Climatic',  'Induced by temperature extremes or wind and water e.g. frost heave, sand ripples',
          'T', 'Terrain',   'Induced by mass movement effects on slopes',
          'S', 'Substrate', 'Induced by changes to the substrate e.g. small karst features')

tbl_pr_micreltype <- gt(dat_pr_micreltype) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red',
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20)) |>
  sub_missing(missing_text = '')

tbl_pr_micreltype
```

```{r}
#| label: tbl-pr-micrelfrm
#| tbl-cap: "Natural microrelief forms"

dat_pr_micrelfrm <-
  tribble(~Code, ~Name, ~Description,
          'R', 'Ripples',     'Small elongate rises above a planar surface',
          'H', 'Hummocks',    'Small rounded rises above a planar surface',
          'D', 'Dips',        'Small hollows set into a planar surface or slope',
          'U', 'Undulating',  'Pattern of alternating small hummocks and dips',
          'T', 'Terracettes', 'Small shelves or steps on a larger slope'
          )

tbl_pr_micrelfrm <- gt(dat_pr_micrelfrm) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red',
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20)) |>
  sub_missing(missing_text = '')

tbl_pr_micrelfrm
```

### Anthropogenic microrelief {#sec-pr-microra}

Small-scale human alterations to the soil surface are common in agricultural areas (current and former). Microrelief can be both removed and created by these activities. 

If the alteration is relatively recent, the surface disturbance code [MC]{.ceg} from @tbl-ss-eventp can be used. Otherwise, record the dominant anthropogenic microrelief type using the codes in @tbl-pr-amicreltype. For detailed descriptions of anthropogenic microrelief, record the average height and spacing of repeating elements in centimetres.

```{r}
#| label: tbl-pr-amicreltype
#| tbl-cap: "Types of anthropogenic microrelief (adapted from @ncst2024 and @iussworkinggroupwrb2022)"

dat_pr_amicreltype <-
  tribble(~Code, ~Name, ~Description,
          'N', 'None',                'Site surface is not significantly altered by humans', 
          'C', 'Smoothed',            'Site surface has been smoothed, contoured, rock-picked, infilled or levelled, beyond normal tillage effects',
          'B', 'Raised Beds',         'Elevated areas have been created and maintained for specific crops, e.g. rows for vegetables or puke (mounds) for kūmara',
          'H', 'Hump and hollow',     'Broad, alternating surface drains and ridges constructed across a surface, usually for pasture production',
          'R', 'Terraces and tracks', 'Hillsides have been cut/filled into small terraces, or tracks cut in across the slope',
          'D', 'Drained',             'Open drainage ditches have been cut into the surface'
          # might be a few more to go here...
          )

tbl_pr_amicreltype <- gt(dat_pr_amicreltype) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red',
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20)) |>
  sub_missing(missing_text = '')

tbl_pr_amicreltype
```

## Erosion and deposition {#sec-pr-erdep}

Erosion and deposition processes operate at the landscape and landform scale, and have effects on the site and profile description. When documenting erosion and deposition at broader scales than the site, the LUC erosion assessment framework should be applied [@lynn2009]. At the site scale (radius up to ~10m, see @sec-pr-site), the system below allows description of the localised nature and impact of these processes.

### Erosion {#sec-pr-erosion}

Where active signs of erosion exist at a site, its presence can simply be noted using the site disturbance code [SL]{.ceg} (see @sec-pr-dist).

If a more detailed assessment is desired, note the type(s) per @tbl-pr-erosion. If erosion is present, note also severity and activity using @tbl-pr-erosev and @tbl-pr-eroact. Only record erosion directly affecting the site.

For example, [RI S PR]{.ceg} for rills observed on a tilled paddock after a storm, or [NO - -]{.ceg} for an unaffected site.

```{r}
#| label: tbl-pr-erosion
#| tbl-cap: "Types of erosion"

dat_pr_erosion <-
  tribble(~Code, ~Name, ~Description,
          # water
          'SH', 'Sheet',   'Thin layers of surface material are gradually removed more or less evenly from an extensive area of sloping land',
          'RI', 'Rill',    'Formation of predominantly steep-sided erosion channel(s) ≤0.5 m deep.',    
          'GU', 'Gully',   'Formation of predominantly steep-sided erosion channel >0.5 m deep, not capable of being safely crossed by a wheeled tractor or obliterated by ploughing or deep cultivation',
          'TN', 'Tunnel',  'Erosion by percolating water in a layer of subsoil, resulting in caving in and the formation of tunnels through which soil material is removed. Includes the linear dips and sinkhole features created by tunnel collapse',
          'CH', 'Channel', 'Erosion by water flowing in stream and river channels, including stream bank erosion',
          
          # gravity
          'FA', 'Fall',   'A very rapid downward movement of a mass of rock or earth that travels mostly through the air by free fall, leaping, bounding or rolling, with little or no interaction between one moving unit and another, e.g., rock-fall, debris fall.',
          'TO', 'Topple', 'Large blocks of earth material or rocks falling forward off very steep to precipitous slope',
          'SL', 'Slide',  'Lateral displacement of earth materials moving as a block along a deep-seated slip face, either rotational (\'slump\') or translational',
          'SP', 'Spread', 'Rapid displacement of wet, plastic materials that liquefy, often bringing along intact blocks or beds',
          'FW', 'Flow',   'Moderate to rapid movement of earth materials that behave as a viscous fluid (earthflow or mudslide)',
          'CR', 'Creep',  'Slow, gradual movement of earth materials down a slope',
          
          #wind
          'WI', 'Wind', 'Detachment, transport, and deposition of loose materials by wind action, especially where a vegetation cover is not present.',
          
          # other codes
          'UK', 'Unknown',      'Mode of erosion cannot be clearly determined',
          'NR', 'Not recorded', 'Mode of erosion not recorded',
          'NO', 'No erosion',   'No evidence of erosion'
          )
          
tbl_pr_erosion <- gt(dat_pr_erosion) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red',
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20)) |>
  fmt_markdown(columns = 3) |>
  tab_row_group(label = 'Water-driven', rows = 1:5, id = 'w') |>
  tab_row_group(label = 'Gravity-driven', rows = 6:11, id = 'g') |>
  tab_row_group(label = 'Wind-driven', rows = 12, id = 'i') |>
  tab_row_group(label = 'Other', rows = 13:15, id = 'o') |>
  tab_style(style = list(cell_text(weight = 'bold')),
            locations = cells_row_groups()) |>
  row_group_order(c('w', 'g', 'i', 'o')) |>
  sub_missing(missing_text = '')

tbl_pr_erosion

```

```{r}
#| label: tbl-pr-erosev
#| tbl-cap: "Erosion severity (reproduced from @iussworkinggroupwrb2022)"

dat_pr_erosev <-
  tribble(~Code, ~Name, ~Description,
          'S', 'Slight',   'Some evidence of damage to surface layers, original ecological functions largely intact', 
          'M', 'Moderate', 'Clear evidence of removal of surface layers, original ecological functions partly destroyed',
          'V', 'Severe',   'Surface layers completely removed and subsurface layers exposed, original ecological functions largely destroyed',
          'E', 'Extreme', 'Substantial removal of deeper subsurface layers, original ecological functions fully destroyed')

tbl_pr_erosev <- gt(dat_pr_erosev) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red',
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20)) |>
  sub_missing(missing_text = '')

tbl_pr_erosev
```

```{r}
#| label: tbl-pr-eroact
#| tbl-cap: "Erosion/deposition activity timescales (adapted from @iussworkinggroupwrb2022)"

dat_pr_erosev <-
  tribble(~Code, ~Name, ~Description,
          'PR', 'Active',     'Active at present', 
          'FR', 'Fresh',      'Active within the past year',
          'RE', 'Recent',     'Active within the past 100 years',
          'HI', 'Historical', 'Active in historical times (>100 years ago)',
          'UK', 'Unknown',    'Activity history cannot be reliably determined')


tbl_pr_erosev <- gt(dat_pr_erosev) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red',
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20)) |>
  sub_missing(missing_text = '')

tbl_pr_erosev
```

### Deposition {#sec-pr-deposition}

Where signs of deposition exist at a site, its presence can simply be noted using the site disturbance code [SD]{.ceg} (see @sec-pr-dist).

If a more detailed assessment is desired, note the type(s) per @tbl-pr-deposition. If deposition is present, note also severity and activity using @tbl-pr-depsev and @tbl-pr-eroact. Only record deposition directly affecting the site.

For example, [FL M FR]{.ceg} for a recent flood that has dropped sediment on a low terrace and partly smothered grass, or [NO - -]{.ceg} for an unaffected site. Optionally, the generalised texture class of the material can be reported using the rapid options for recording soil texture described in @sec-tex-rec.

```{r}
#| label: tbl-pr-deposition
#| tbl-cap: "Types of deposition (partly adapted from @ncst2024)"

dat_pr_deposition <-
  tribble(~Code, ~Name, ~Description,
          # water
          'FL', 'Flood', 'Deposition driven by inundation events along streams',
          'SS', 'Surge', 'Deposition driven by storm surge',
          'TI', 'Till',  'Glacial deposition',
          
          # gravity
          'FA', 'Fall', 'Rapid, freefall collapse of earth material on precipitous slopes',
          'TO', 'Topple', 'Large blocks of earth material falling forward off very steep to precipitous slope',
          'SL', 'Slide', 'Lateral displacement of earth materials moving as a block along a deep-seated slip face, either rotational (\'slump\') or translational',
          'SP', 'Spread', 'rapid displacement of wet, plastic materials that liquefy, often bringing along intact blocks or beds',
          'FW', 'Flow', 'slow to rapid movement of earth materials that behave as a viscous fluid(earthflow or mudslide)',
          'CR', 'Creep',  'Slow, gradual movement of earth materials down a slope',
          
          # wind
          'VR', 'Volcanic eruption', 'Deposition from pyroclastic fall or flow materials (tephra) from explosive volcanic eruptions',
          'SA', 'Sand movement', 'Wind-driven deposition of sand, e.g., from beaches, banks, or remobilised dunes',
          'SI', 'Silt movement', 'Wind-driven deposition of silt and finer material, e.g., from banks or bare earth',
          
          # other codes
          'UK', 'Unknown', 'Mode of deposition cannot be clearly determined',
          'NR', 'Not recorded', 'Mode of deposition not recorded',
          'NO', 'No deposition', 'No evidence of deposition'
          )
          
tbl_pr_deposition <- gt(dat_pr_deposition) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red',
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20)) |>
  fmt_markdown(columns = 3) |>
  tab_row_group(label = 'Water-driven', rows = 1:3, id = 'w') |>
  tab_row_group(label = 'Gravity-driven', rows = 4:9, id = 'g') |>
  tab_row_group(label = 'Wind-driven', rows = 10:12, id = 'i') |>
  tab_row_group(label = 'Other', rows = 13:15, id = 'o') |>
  tab_style(style = list(cell_text(weight = 'bold')),
            locations = cells_row_groups()) |>
  row_group_order(c('w', 'g', 'i', 'o')) |>
  sub_missing(missing_text = '')

tbl_pr_deposition

```

```{r}
#| label: tbl-pr-depsev
#| tbl-cap: "Deposition severity"

dat_pr_depsev <-
  tribble(~Code, ~Name, ~Description,
          'S', 'Slight',   'Patchy or thin cover over previous surface layers, original ecological functions largely intact', 
          'M', 'Moderate', 'Cover mostly complete but < 10cm thick, original ecological functions partly destroyed',
          'V', 'Severe',   'Cover complete and > 10cm thick, original ecological functions largely destroyed',
          'E', 'Extreme',  'Cover complete and permanent, original ecological functions fully destroyed')

tbl_pr_depsev <- gt(dat_pr_depsev) |>
   tab_options(
    column_labels.font.weight = 'bold', 
    heading.title.font.weight = 'bold',
    table.align = 'center',
    table.width = '85%'
  ) |>
  tab_style(style = list(cell_text(color  = 'red',
                                   weight = 'bold',
                                   align  = 'center')),
            locations = cells_body(columns = 1)) |>
  cols_width(Code ~pct(10), Name ~pct(20)) |>
  sub_missing(missing_text = '')

tbl_pr_depsev
```

More detailed assessments of site-scale erosion and deposition are possible using the characterisation principles in @turner1996 but are considered beyond the scope of a soil profile description.
